{% extends "baseforSim.html" %}


{% block title %} Preprocessing Event Log <br> <i> Please set the first column attributes!</i> {% endblock %}

{% block content %}

          <div class=" col-sm-3 col-md-6 col-lg-4">


        <form  name="extract" action="InsideEventLog.html" method = "POST" enctype="multipart/form-data">
            <p>Event log: <input class="form-control-file" type = "file" value="fileupload" name = "Event Log"  /></p>
            <p><input type = "submit" value = "Upload EventLog" class="btn btn-primary mb-2" id ='submitresEL' /></p>

            <label for="CaseID"><b>Case ID</b></label>
            <select class="form-control" id="CaseID" name="CaseID">
            {% for c in el_cols %}
            <p> <option name={{c}} value={{c}} >{{c}}</option></p>

          {% endfor %}
            </select>
            <br>
            <label for="Activity"><b>Activity</b></label>
            <select class="form-control" id="Activity"  name="Activity">
            {% for c in el_cols %}
            <p> <option name={{c}} value={{c}} >{{c}}</option></p>

          {% endfor %}
            </select>
            <br>
             <label for="Resource"><b>Resource</b></label>
            <select class="form-control" id="Resource" name="Resource">
            {% for c in el_cols %}
            <p> <option name={{c}} value={{c}} >{{c}}</option></p>

          {% endfor %}
            </select>
            <br>
             <label for="StartTime"><b>Start Timestamp</b></label>
            <select class="form-control" id="StartTime" name="StartTime">
            {% for c in el_cols %}
            <p> <option name={{c}} value={{c}} >{{c}}</option></p>

          {% endfor %}
            </select>
            <br>
             <label for="CompleteTime"><b>Complete Timestamp</b></label>
            <select class="form-control" id="CompleteTime" name="CompleteTime">
            {% for c in el_cols %}
            <p> <option name={{c}} value={{c}} >{{c}}</option></p>

          {% endfor %}
            </select>
            <br>
            <input type="submit" class="btn btn-primary mb-2" id="setCols" value="Set Attributes" name="setCols">

        </form>



              <div>
                   <button class="btn btn-primary mb-2" type = "submit" id="ShowDFG" onclick="ShowDFG()" value = "submit">Discover DFG </button>
                   <a class="label label-primary" href="{{url_for('ready_event_log')}}" style="margin-right: 5px;"> Right click to get the event log </a>

              </div>

          </div>
            <div  class="col-sm-3 col-md-2 col-lg-2" id="ELResultimg">
           {{el_info}}
          </div>
             <div id="divShowDFG"  class="col-sm-6 col-md-4 col-lg-6" style="display:none;">
                  <div style="font-style: italic;">The Preprocessed Event Log is generated on "Outputs/ready_event_log.csv"</div>
                <iframe  scrolling="no" src="mygraph.html" width="100%" style="height: 50em" alt=""></iframe>

            </div>


        </div>
      </div>
    </div>
    <!-- /#page-content-wrapper -->





  </div>
  <!-- /#wrapper -->

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Menu Toggle Script -->
  <script>
   function LoadELResult() {
  document.getElementById('ELResult').style.display = "block";
}
function LoadELResultimg() {
  document.getElementById('ELResultimg').style.display = "block";

}
function ShowDFG(){
document.getElementById('divShowDFG').style.display = "block";   }



  </script>


{% endblock %}